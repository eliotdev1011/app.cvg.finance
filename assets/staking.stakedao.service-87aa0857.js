import{B as $,s as c,a5 as y,d as l,a4 as T,aO as L,a2 as G,b as B,aP as U,ar as R,as as D}from"./index-614b6d1c.js";import{c as N}from"./CurvePool-852682be.js";import{i as O,g as C}from"./stakeDaoUtils-f752dab6.js";(function(){try{var S=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(S._sentryDebugIds=S._sentryDebugIds||{},S._sentryDebugIds[t]="388972f2-5e80-48a0-93e6-c54fbd856636",S._sentryDebugIdIdentifier="sentry-dbid-388972f2-5e80-48a0-93e6-c54fbd856636")}catch{}})();const j="hh-sol-artifact-1",F="CvgSDT",H="contracts/Token/CvgSDT.sol",z=[{inputs:[{internalType:"contract ICvgControlTower",name:"_cvgControlTower",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cvgControlTower",outputs:[{internalType:"contract ICvgControlTower",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"sdt",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],V={_format:j,contractName:F,sourceName:H,abi:z},W="hh-sol-artifact-1",q="SdtStakingPositionService",Z="contracts/Staking/StakeDAO/SdtStakingPositionService.sol",J=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"ClaimCvgMultiple",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"ClaimCvgSdtMultiple",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"cycleId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rewardAmount",type:"uint256"}],name:"CvgCycleProcess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"cycleId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"cycleId",type:"uint256"},{indexed:!1,internalType:"address",name:"operator",type:"address"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],indexed:!1,internalType:"struct ICommonStruct.TokenAmount[]",name:"tokenAmounts",type:"tuple[]"}],name:"ProcessSdtRewards",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"uint256",name:"cycleId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buffer",outputs:[{internalType:"contract ISdtBuffer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"claimCvgRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"claimCvgSdtMultiple",outputs:[{internalType:"uint256",name:"",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_minCvgSdtAmountOut",type:"uint256"},{internalType:"bool",name:"_isConvert",type:"bool"}],name:"claimCvgSdtRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cvg",outputs:[{internalType:"contract ICvg",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvgControlTower",outputs:[{internalType:"contract ICvgControlTower",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"cycleId",type:"uint256"}],name:"cycleInfo",outputs:[{components:[{internalType:"uint256",name:"cvgRewardsAmount",type:"uint256"},{internalType:"uint256",name:"totalStaked",type:"uint256"},{internalType:"bool",name:"isSdtProcessed",type:"bool"}],internalType:"struct SdtStakingPositionService.CycleInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"operator",type:"address"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getAllClaimableAmounts",outputs:[{internalType:"uint256",name:"",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getAllClaimableCvgAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getClaimableCyclesAndAmounts",outputs:[{components:[{internalType:"uint256",name:"cycleClaimable",type:"uint256"},{internalType:"uint256",name:"cvgRewards",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"sdtRewards",type:"tuple[]"}],internalType:"struct SdtStakingPositionService.ClaimableCyclesAndAmounts[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"cycleId",type:"uint256"}],name:"getProcessedSdtRewards",outputs:[{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ICvgControlTower",name:"_cvgControlTower",type:"address"},{internalType:"contract ISdAssetGauge",name:"_stakingAsset",type:"address"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"bool",name:"_isGaugeAsset",type:"bool"},{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct SdtStakingPositionService.WithdrawCallInfo",name:"_withdrawCallInfo",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"nextClaims",outputs:[{components:[{internalType:"uint128",name:"nextClaimableCvg",type:"uint128"},{internalType:"uint128",name:"nextClaimableSdt",type:"uint128"}],internalType:"struct SdtStakingPositionService.NextClaimableCycles",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfSdtRewards",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"processSdtRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"processStakersRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sdtRewardDistributor",outputs:[{internalType:"contract ISdtRewardDistributor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"cycleId",type:"uint256"},{internalType:"uint256",name:"sdtRewardsIndex",type:"uint256"}],name:"sdtRewardsByCycle",outputs:[{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"sdtStakingPositionManager",outputs:[{internalType:"contract ISdtStakingPositionManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_buffer",type:"address"}],name:"setBuffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_cycleId",type:"uint256"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_actualCycle",type:"uint256"}],name:"stakedAmountEligibleAtCycle",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingAsset",outputs:[{internalType:"contract ISdAssetGauge",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingCycle",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"}],name:"stakingHistoryByToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stakingInfo",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"pending",type:"uint256"},{internalType:"uint256",name:"totalStaked",type:"uint256"},{internalType:"uint256",name:"cvgClaimable",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"sdtClaimable",type:"tuple[]"}],internalType:"struct ISdtStakingPositionService.StakingInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleDepositPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"cycleId",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenInfoByCycle",outputs:[{components:[{internalType:"uint256",name:"amountStaked",type:"uint256"},{internalType:"uint256",name:"pendingStaked",type:"uint256"}],internalType:"struct SdtStakingPositionService.TokenInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"erc20Address",type:"address"}],name:"tokenToId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenTotalStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],K={},Q={},M={_format:W,contractName:q,sourceName:Z,abi:J,linkReferences:K,deployedLinkReferences:Q},X="hh-sol-artifact-1",Y="SdtStakingViewer",ee="contracts/Staking/StakeDAO/SdtStakingViewer.sol",te=[{inputs:[{internalType:"contract ICvgControlTower",name:"_cvgControlTower",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"cvgControlTower",outputs:[{internalType:"contract ICvgControlTower",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"cvgCycle",type:"uint256"},{internalType:"contract ISdtStakingPositionService[]",name:"stakingContracts",type:"address[]"}],name:"getAprDataCvg",outputs:[{components:[{internalType:"uint256",name:"cvgCycle",type:"uint256"},{components:[{internalType:"uint256",name:"cvgRewardsAmount",type:"uint256"},{internalType:"uint256",name:"totalStaked",type:"uint256"},{internalType:"bool",name:"isCvgProcessed",type:"bool"},{internalType:"bool",name:"isSdtProcessed",type:"bool"}],internalType:"struct ISdtStakingPositionService.CycleInfo[]",name:"amounts",type:"tuple[]"}],internalType:"struct SdtStakingViewer.AprDataCvg",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"cvgCycle",type:"uint256"},{internalType:"contract ISdtStakingPositionService[]",name:"stakingContracts",type:"address[]"}],name:"getAprDataSdt",outputs:[{components:[{internalType:"uint256",name:"cvgCycle",type:"uint256"},{components:[{internalType:"uint256",name:"totalStaked",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"sdtClaimable",type:"tuple[]"}],internalType:"struct ISdtStakingPositionService.CycleInfoMultiple[]",name:"amounts",type:"tuple[]"}],internalType:"struct SdtStakingViewer.AprDataSdt",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISdtStakingPositionService",name:"_stakingContract",type:"address"}],name:"getGlobalViewCvgSdtStaking",outputs:[{components:[{internalType:"address",name:"cvgSdt",type:"address"},{internalType:"address",name:"stakingAddress",type:"address"},{internalType:"uint256",name:"cvgCycle",type:"uint256"},{internalType:"uint256",name:"previousTotal",type:"uint256"},{internalType:"uint256",name:"actualTotal",type:"uint256"},{internalType:"uint256",name:"nextTotal",type:"uint256"}],internalType:"struct ISdtStruct.CvgSdtGlobalView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISdtStakingPositionService[]",name:"_stakingContracts",type:"address[]"}],name:"getGlobalViewLpAssetStaking",outputs:[{components:[{internalType:"address",name:"gaugeAsset",type:"address"},{internalType:"address",name:"lpAsset",type:"address"},{internalType:"address",name:"stakingAddress",type:"address"},{internalType:"uint256",name:"cvgCycle",type:"uint256"},{internalType:"uint256",name:"previousTotal",type:"uint256"},{internalType:"uint256",name:"actualTotal",type:"uint256"},{internalType:"uint256",name:"nextTotal",type:"uint256"}],internalType:"struct ISdtStruct.LpAssetGlobalView[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISdtStakingPositionService[]",name:"_stakingContracts",type:"address[]"}],name:"getGlobalViewSdAssetStaking",outputs:[{components:[{internalType:"address",name:"gaugeAsset",type:"address"},{internalType:"address",name:"sdAsset",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"stakingAddress",type:"address"},{internalType:"uint256",name:"cvgCycle",type:"uint256"},{internalType:"uint256",name:"previousTotal",type:"uint256"},{internalType:"uint256",name:"actualTotal",type:"uint256"},{internalType:"uint256",name:"nextTotal",type:"uint256"}],internalType:"struct ISdtStruct.SdAssetGlobalView[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISdtStakingPositionService[]",name:"sdtStaking",type:"address[]"}],name:"getProcessableRewardsOnSdtStakingContracts",outputs:[{components:[{internalType:"contract ISdAssetGauge",name:"sdAssetGauge",type:"address"},{components:[{internalType:"contract IERC20",name:"rewardToken",type:"address"},{internalType:"uint256",name:"processableAmount",type:"uint256"}],internalType:"struct SdtStakingViewer.ProcessableData[]",name:"processableData",type:"tuple[]"}],internalType:"struct SdtStakingViewer.ProcessableRewards[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract ISdtStakingPositionService",name:"stakingContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],internalType:"struct ISdtStruct.TokenViewInput[]",name:"_tokenViewInputs",type:"tuple[]"}],name:"getTokenViewSdtStaking",outputs:[{components:[{internalType:"contract ISdtStakingPositionService",name:"stakingContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"previousToken",type:"uint256"},{internalType:"uint256",name:"actualToken",type:"uint256"},{internalType:"uint256",name:"nextToken",type:"uint256"}],internalType:"struct ISdtStruct.TokenViewOutput[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],I={_format:X,contractName:Y,sourceName:ee,abi:te},ne="hh-sol-artifact-1",ae="SdtUtilities",se="contracts/Staking/StakeDAO/SdtUtilities.sol",ie=[{inputs:[{internalType:"contract ICvgControlTower",name:"_cvgControlTower",type:"address"},{internalType:"contract IERC20Mintable",name:"_cvgSdt",type:"address"},{internalType:"contract IERC20",name:"_sdt",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct SdtUtilities.TokenSpender[]",name:"_tokenSpenders",type:"tuple[]"}],name:"approveTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_cvgSdtAmount",type:"uint256"},{internalType:"uint256",name:"_minCvgSdtAmountReceivedDuringSwap",type:"uint256"},{internalType:"uint256",name:"_sdtAmount",type:"uint256"}],name:"convertAndStakeCvgSdt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"contract ISdtStakingPositionService",name:"_lpStaking",type:"address"},{internalType:"uint256",name:"_gaugeAssetAmount",type:"uint256"},{internalType:"uint256",name:"_lpAssetAmount",type:"uint256"},{internalType:"bool",name:"_isEarn",type:"bool"}],name:"convertAndStakeLpAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"contract ISdtStakingPositionService",name:"_sdAssetStaking",type:"address"},{internalType:"uint256",name:"_gaugeAssetAmount",type:"uint256"},{internalType:"uint256",name:"_minSdAssetAmountReceivedDuringSwap",type:"uint256"},{internalType:"uint256",name:"_sdAssetAmount",type:"uint256"},{internalType:"uint256",name:"_assetAmount",type:"uint256"},{internalType:"bool",name:"isLock",type:"bool"}],name:"convertAndStakeSdAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cvgControlTower",outputs:[{internalType:"contract ICvgControlTower",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvgSdt",outputs:[{internalType:"contract IERC20Mintable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"percentageDepeg",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sdt",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newPercentageDepeg",type:"uint256"}],name:"setPercentageDepeg",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"liquidLocker",type:"address"},{internalType:"contract ICrvPoolPlain",name:"lp",type:"address"}],internalType:"struct SdtUtilities.SetStablePool[]",name:"_setStablePools",type:"tuple[]"}],name:"setStablePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stablePoolPerAsset",outputs:[{internalType:"contract ICrvPoolPlain",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],E={_format:ne,contractName:ae,sourceName:se,abi:ie},oe=[{name:"Approval",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_spender",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Boost",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_bias",type:"uint256",indexed:!1},{name:"_slope",type:"uint256",indexed:!1},{name:"_start",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Migrate",inputs:[{name:"_token_id",type:"uint256",indexed:!0}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_ve",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"boost",inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"},{name:"_endtime",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"boost",inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"},{name:"_endtime",type:"uint256"},{name:"_from",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"checkpoint_user",inputs:[{name:"_user",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"approve",inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"permit",inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_deadline",type:"uint256"},{name:"_v",type:"uint8"},{name:"_r",type:"bytes32"},{name:"_s",type:"bytes32"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"increaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_added_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"decreaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_subtracted_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"adjusted_balance_of",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"delegated_balance",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"received_balance",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"delegable_balance",inputs:[{name:"_user",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"pure",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"pure",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"pure",type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint8"}]},{stateMutability:"pure",type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32"}]},{stateMutability:"pure",type:"function",name:"VE",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"allowance",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"nonces",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"delegated",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"tuple",components:[{name:"bias",type:"uint256"},{name:"slope",type:"uint256"},{name:"ts",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"delegated_slope_changes",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"received",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"tuple",components:[{name:"bias",type:"uint256"},{name:"slope",type:"uint256"},{name:"ts",type:"uint256"}]}]},{stateMutability:"view",type:"function",name:"received_slope_changes",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"migrated",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],pe={abi:oe},ue="hh-sol-artifact-1",re="SdtStakingProcessableRewards",de="contracts/ChainView/SdtStakingProcessableRewards.sol",ye=[{inputs:[{internalType:"contract ISdtStakingPositionService[]",name:"sdtStakings",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"stakingContract",type:"address"},{internalType:"string",name:"stakingName",type:"string"},{internalType:"uint256",name:"harvesterPercentage",type:"uint256"},{internalType:"bool",name:"isSdtProcessed",type:"bool"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"tokenAmounts",type:"tuple[]"}],internalType:"struct SdtHarvesterInfo[]",name:"harvesterInfos",type:"tuple[]"}],name:"SdtStakingProcessableRewardsErr",type:"error"}],ce="0x608060405234801561001057600080fd5b5060405161177538038061177583398101604081905261002f9161111d565b6100388161003e565b50611626565b600060016000805160206117558339815191526001600160a01b031663763b24656040518163ffffffff1660e01b8152600401602060405180830381865afa15801561008e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100b291906111bb565b6100bc9190611201565b6001600160801b0316905060006000805160206117558339815191526001600160a01b031663a46488876040518163ffffffff1660e01b8152600401602060405180830381865afa158015610115573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101399190611228565b905060008351600161014b9190611245565b6001600160401b038111156101625761016261109f565b6040519080825280602002602001820160405280156101bd57816020015b6040805160a08101825260008082526060602083018190529282018190528282015260808101919091528152602001906001900390816101805790505b50905060005b84518110156108355760008582815181106101e0576101e061125e565b602002602001015190506000816001600160a01b0316637776768f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561022a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061024e9190611228565b90506000816001600160a01b031663963c94b96040518163ffffffff1660e01b8152600401602060405180830381865afa158015610290573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102b49190611274565b90506000836001600160a01b031663edaafe206040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102f6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061031a9190611228565b60405163b292532560e01b81526001600160a01b03808316600483015291925060009189169063b292532590602401600060405180830381865afa158015610366573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261038e919081019061128d565b9050600081518461039f9190611245565b6001600160401b038111156103b6576103b661109f565b6040519080825280602002602001820160405280156103fb57816020015b60408051808201909152600080825260208201528152602001906001900390816103d45790505b50905060005b848110156105a8576040516354c49fe960e01b8152600481018290526000906001600160a01b038816906354c49fe990602401602060405180830381865afa158015610451573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104759190611228565b6040516370a0823160e01b81526001600160a01b0387811660048301529192506000918316906370a0823190602401602060405180830381865afa1580156104c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e59190611274565b604051630cff5bdd60e21b81526001600160a01b038e8116600483015284811660248301528a16906333fd6f7490604401602060405180830381865afa158015610533573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105579190611274565b6105619190611245565b90506040518060400160405280836001600160a01b03168152602001828152508484815181106105935761059361125e565b60209081029190910101525050600101610401565b60005b835181101561069b5760405180604001604052808583815181106105d1576105d161125e565b60200260200101516001600160a01b031681526020018583815181106105f9576105f961125e565b60209081029190910101516040516370a0823160e01b81526001600160a01b038f81166004830152909116906370a0823190602401602060405180830381865afa15801561064b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061066f9190611274565b8152508383815181106106845761068461125e565b6020908102919091010152600191820191016105ab565b506040518060a00160405280886001600160a01b03168152602001876001600160a01b03166306fdde036040518163ffffffff1660e01b8152600401600060405180830381865afa1580156106f4573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261071c919081019061133f565b8152602001856001600160a01b031663772582ef6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561075f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107839190611274565b8152602001886001600160a01b03166344f796098e6040518263ffffffff1660e01b81526004016107b691815260200190565b606060405180830381865afa1580156107d3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107f791906113d2565b6040015115158152602001838152508989815181106108185761081861125e565b6020026020010181905250876001019750505050505050506101c3565b5061083f8361088d565b816001835161084e9190611438565b8151811061085e5761085e61125e565b60200260200101819052508060405163130a81e760e21b81526004016108849190611477565b60405180910390fd5b6040805160a081018252600080825260606020830181905292820181905282820152608081019190915260006000805160206117558339815191526001600160a01b0316632ba450616040518163ffffffff1660e01b8152600401602060405180830381865afa158015610905573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109299190611228565b905060006000805160206117558339815191526001600160a01b03166306ee5ed26040518163ffffffff1660e01b8152600401602060405180830381865afa158015610979573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099d9190611228565b6040805160028082526060820190925291925060009190816020015b60408051808201909152600080825260208201528152602001906001900390816109b9579050506040805180820182527373968b9a57c6e53d41345fd57a6e6ae27d6cdb2f80825291516370a0823160e01b81526001600160a01b0387166004820152929350916020830191906370a0823190602401602060405180830381865afa158015610a4c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a709190611274565b6040516315de78d760e31b81526000600482015262989680906001600160a01b0387169063aef3c6b8906024016040805180830381865afa158015610ab9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610add9190611561565b602001516040516370a0823160e01b81526001600160a01b03881660048201526001600160601b03909116907373968b9a57c6e53d41345fd57a6e6ae27d6cdb2f906370a0823190602401602060405180830381865afa158015610b45573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b699190611274565b610b7391906115cb565b610b7e9060646115cb565b610b8891906115e2565b610b929190611245565b81525081600081518110610ba857610ba861125e565b602090810291909101810191909152604080518082018252600c81526b3332b2a1b7b63632b1ba37b960a11b92810192909252516370a0823160e01b81526001600160a01b0384166004820152610c6a91907373968b9a57c6e53d41345fd57a6e6ae27d6cdb2f906370a08231906024015b602060405180830381865afa158015610c37573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c5b9190611274565b61101b60201b6100091760201c565b604080518082018252600c81526b31bb33a9b23a213ab33332b960a11b602082015290516370a0823160e01b81526001600160a01b0385166004820152610cd091907373968b9a57c6e53d41345fd57a6e6ae27d6cdb2f906370a0823190602401610c1a565b604080518082018252600f81526e3332b2b9a932b830b93a34ba34b7b760891b602082015290516315de78d760e31b815260006004820152610d7d91906001600160a01b0385169063aef3c6b8906024016040805180830381865afa158015610d3d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d619190611561565b602001516001600160601b031661101b60201b6100091760201c565b610dcd60405180604001604052806006815260200165185b5bdd5b9d60d21b81525082600081518110610db257610db261125e565b60200260200101516020015161101b60201b6100091760201c565b60408051808201825273830614ae209ff9d8706d386fcdbc7a55206fcffc80825291516370a0823160e01b81526001600160a01b0386166004820152909160208301916370a0823190602401602060405180830381865afa158015610e36573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e5a9190611274565b81525081600181518110610e7057610e7061125e565b602002602001018190525060006000805160206117558339815191526001600160a01b031663bb6c198a6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610ec9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610eed9190611228565b90506040518060a00160405280826001600160a01b031681526020016040518060400160405280600681526020016518dd99d4d11560d21b8152508152602001856001600160a01b031663772582ef6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610f6b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f8f9190611274565b8152602001826001600160a01b03166344f79609896040518263ffffffff1660e01b8152600401610fc291815260200190565b606060405180830381865afa158015610fdf573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061100391906113d2565b60400151151581526020019290925250949350505050565b6110648282604051602401611031929190611604565b60408051601f198184030181529190526020810180516001600160e01b03908116632d839cb360e21b1790915261106816565b5050565b61107b8161107e60201b61004e1760201c565b50565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b03811182821017156110dd576110dd61109f565b604052919050565b60006001600160401b038211156110fe576110fe61109f565b5060051b60200190565b6001600160a01b038116811461107b57600080fd5b6000602080838503121561113057600080fd5b82516001600160401b0381111561114657600080fd5b8301601f8101851361115757600080fd5b805161116a611165826110e5565b6110b5565b81815260059190911b8201830190838101908783111561118957600080fd5b928401925b828410156111b05783516111a181611108565b8252928401929084019061118e565b979650505050505050565b6000602082840312156111cd57600080fd5b81516001600160801b03811681146111e457600080fd5b9392505050565b634e487b7160e01b600052601160045260246000fd5b6001600160801b03828116828216039080821115611221576112216111eb565b5092915050565b60006020828403121561123a57600080fd5b81516111e481611108565b80820180821115611258576112586111eb565b92915050565b634e487b7160e01b600052603260045260246000fd5b60006020828403121561128657600080fd5b5051919050565b600060208083850312156112a057600080fd5b82516001600160401b038111156112b657600080fd5b8301601f810185136112c757600080fd5b80516112d5611165826110e5565b81815260059190911b820183019083810190878311156112f457600080fd5b928401925b828410156111b057835161130c81611108565b825292840192908401906112f9565b60005b8381101561133657818101518382015260200161131e565b50506000910152565b60006020828403121561135157600080fd5b81516001600160401b038082111561136857600080fd5b818401915084601f83011261137c57600080fd5b81518181111561138e5761138e61109f565b6113a1601f8201601f19166020016110b5565b91508082528560208285010111156113b857600080fd5b6113c981602084016020860161131b565b50949350505050565b6000606082840312156113e457600080fd5b604051606081016001600160401b03811182821017156114065761140661109f565b806040525082518152602083015160208201526040830151801515811461142c57600080fd5b60408201529392505050565b81810381811115611258576112586111eb565b6000815180845261146381602086016020860161131b565b601f01601f19169290920160200192915050565b60006020808301818452808551808352604092508286019150828160051b8701018488016000805b8481101561155257898403603f19018652825180516001600160a01b0390811686528982015160a08b880181905291906114db8389018261144b565b848c0151898d01526060808601511515908a0152608094850151898203958a01959095528451808252948d0194879450908d0191505b8084101561153c5784518051841683528d01518d830152938c019360019390930192908b0190611511565b50988b019896505050928801925060010161149f565b50919998505050505050505050565b60006040828403121561157357600080fd5b604080519081016001600160401b03811182821017156115955761159561109f565b60405282516115a381611108565b815260208301516001600160601b03811681146115bf57600080fd5b60208201529392505050565b8082028115828204841417611258576112586111eb565b6000826115ff57634e487b7160e01b600052601260045260246000fd5b500490565b604081526000611617604083018561144b565b90508260208301529392505050565b610120806116356000396000f3fe6080604052600080fd5b604a8282604051602401601c9291906081565b60408051601f198184030181529190526020810180516001600160e01b0316632d839cb360e21b179052606f565b5050565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b607681604e565b50565b607f60d4565b565b604081526000835180604084015260005b8181101560ad57602081870181015160608684010152016092565b506000606082850101526060601f19601f8301168401019150508260208301529392505050565b634e487b7160e01b600052605160045260246000fdfea264697066735822122072c0ee11e7db569d9693effbb5fb0285a856639b54392e76156bcebd43dd18b664736f6c63430008110033000000000000000000000000b0afc8363b8f36e0cce5d54251e20720ffaeaee7",le="0x6080604052600080fd5b604a8282604051602401601c9291906081565b60408051601f198184030181529190526020810180516001600160e01b0316632d839cb360e21b179052606f565b5050565b60006a636f6e736f6c652e6c6f679050600080835160208501845afa505050565b607681604e565b50565b607f60d4565b565b604081526000835180604084015260005b8181101560ad57602081870181015160608684010152016092565b506000606082850101526060601f19601f8301168401019150508260208301529392505050565b634e487b7160e01b600052605160045260246000fdfea264697066735822122072c0ee11e7db569d9693effbb5fb0285a856639b54392e76156bcebd43dd18b664736f6c63430008110033",be={},me={},h={_format:ue,contractName:re,sourceName:de,abi:ye,bytecode:ce,deployedBytecode:le,linkReferences:be,deployedLinkReferences:me},fe="hh-sol-artifact-1",ge="SdtStakingStreamInfo",ve="contracts/ChainView/SdtStakingStreamInfo.sol",we=[{inputs:[{internalType:"contract ISdtStakingPositionService[]",name:"sdtStakings",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"stakingContract",type:"address"},{internalType:"string",name:"stakingName",type:"string"},{internalType:"uint256",name:"streamFinish",type:"uint256"},{internalType:"bool",name:"isSdtProcessed",type:"bool"}],internalType:"struct SdtStreamInfo[]",name:"info",type:"tuple[]"}],name:"SdtStakingStreamInfoErr",type:"error"}],Te="0x6080604052600180546001600160a01b03191673d533a949740bb3306d119cc777fa900ba034cd52179055348015610035575f80fd5b506040516109ea3803806109ea83398101604081905261005491610614565b5f60208190527fc4337b4d80ec44c6fa93a45fec4b7d6fa803a4a5e4c9f0d76dcd748de91b495280546001600160a01b03199081167331429d1856ad1377a8a0079410b297e1a9e214c2179091557f27822f0f47dc9e648d9182c7489506aadbc77ecfdda7133214259155a25ab79080548216737f39c581f595b53c5cb19bd0b3f8da6c935e2ca01790557f9c601d03f1919ddb30bb8b8a50707ae3faab4ca48003c09c29b55972eb448bdd80548216733432b6a60d23ca0dfca7761b7ab56459d9c964d01790557f1e20f68631e798aad869e601db9a9a1aaa974797caafc033cf5ed813744dc0348054821673c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21790557f9807b10cd12866efd8635da1b599008205210102af496a4e007dda0c815b2d038054821673ba100000625a3754423978a60c9317c58a424e3d1790557f9865f32470a5daedb788cff423ca81a767c3db189bb97c0650842e1aba032966805482167341252e8691e964f7de35156b68493bab6797a275179055735602145583518421326ec8b9278c5ac188a580719091527f23a73f7455b9056773f25facf87d5b7d771da91181fd3b042bc0d0b62443482a8054909116734104b135dbc9609fc1a9490e61369036497660c817905561023281610238565b506109a0565b5f600173b0afc8363b8f36e0cce5d54251e20720ffaeaee76001600160a01b031663763b24656040518163ffffffff1660e01b8152600401602060405180830381865afa15801561028b573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102af91906106c0565b6102b991906106ed565b6001600160801b031690505f82516001600160401b038111156102de576102de6105b9565b60405190808252806020026020018201604052801561034257816020015b61032f60405180608001604052805f6001600160a01b03168152602001606081526020015f81526020015f151581525090565b8152602001906001900390816102fc5790505b5090505f5b8351811015610594575f84828151811061036357610363610720565b602002602001015190505f816001600160a01b0316637776768f6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103aa573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103ce9190610734565b6001600160a01b038084165f9081526020819052604090205491925016806103fe57506001546001600160a01b03165b6040518060800160405280846001600160a01b03168152602001836001600160a01b03166306fdde036040518163ffffffff1660e01b81526004015f60405180830381865afa158015610453573d5f803e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261047a9190810190610771565b8152604051632474e32f60e11b81526001600160a01b0384811660048301526020909201918516906348e9c65e9060240160c060405180830381865afa1580156104c6573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104ea91906107ff565b604001518152602001846001600160a01b03166344f79609896040518263ffffffff1660e01b815260040161052191815260200190565b606060405180830381865afa15801561053c573d5f803e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105609190610888565b60400151151581525085858151811061057b5761057b610720565b6020026020010181905250836001019350505050610347565b5080604051636a6c88ab60e11b81526004016105b091906108eb565b60405180910390fd5b634e487b7160e01b5f52604160045260245ffd5b604051601f8201601f191681016001600160401b03811182821017156105f5576105f56105b9565b604052919050565b6001600160a01b0381168114610611575f80fd5b50565b5f6020808385031215610625575f80fd5b82516001600160401b038082111561063b575f80fd5b818501915085601f83011261064e575f80fd5b815181811115610660576106606105b9565b8060051b91506106718483016105cd565b818152918301840191848101908884111561068a575f80fd5b938501935b838510156106b457845192506106a4836105fd565b828252938501939085019061068f565b98975050505050505050565b5f602082840312156106d0575f80fd5b81516001600160801b03811681146106e6575f80fd5b9392505050565b6001600160801b0382811682821603908082111561071957634e487b7160e01b5f52601160045260245ffd5b5092915050565b634e487b7160e01b5f52603260045260245ffd5b5f60208284031215610744575f80fd5b81516106e6816105fd565b5f5b83811015610769578181015183820152602001610751565b50505f910152565b5f60208284031215610781575f80fd5b81516001600160401b0380821115610797575f80fd5b818401915084601f8301126107aa575f80fd5b8151818111156107bc576107bc6105b9565b6107cf601f8201601f19166020016105cd565b91508082528560208285010111156107e5575f80fd5b6107f681602084016020860161074f565b50949350505050565b5f60c0828403121561080f575f80fd5b60405160c081016001600160401b0381118282101715610831576108316105b9565b604052825161083f816105fd565b8152602083015161084f816105fd565b8060208301525060408301516040820152606083015160608201526080830151608082015260a083015160a08201528091505092915050565b5f60608284031215610898575f80fd5b604051606081016001600160401b03811182821017156108ba576108ba6105b9565b80604052508251815260208301516020820152604083015180151581146108df575f80fd5b60408201529392505050565b5f60208083018184528085518083526040925060408601915060408160051b8701018488015f5b8381101561099257888303603f19018552815180516001600160a01b03168452878101516080898601819052815190860181905260a0919061095981848901848e0161074f565b838a0151878b01526060938401511515938701939093525095880195601f91909101601f19169093019092019190860190600101610912565b509098975050505050505050565b603e806109ac5f395ff3fe60806040525f80fdfea2646970667358221220e96a728562f094c21add818494f054cc93f3b0befaff496d04bd73f6f9f89c9764736f6c63430008180033",Se="0x60806040525f80fdfea2646970667358221220e96a728562f094c21add818494f054cc93f3b0befaff496d04bd73f6f9f89c9764736f6c63430008180033",ke={},_e={},x={_format:fe,contractName:ge,sourceName:ve,abi:we,bytecode:Te,deployedBytecode:Se,linkReferences:ke,deployedLinkReferences:_e},Ae=[{name:"Deposit",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Withdraw",inputs:[{name:"provider",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"UpdateLiquidityLimit",inputs:[{name:"user",type:"address",indexed:!1},{name:"original_balance",type:"uint256",indexed:!1},{name:"original_supply",type:"uint256",indexed:!1},{name:"working_balance",type:"uint256",indexed:!1},{name:"working_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitOwnership",inputs:[{name:"admin",type:"address",indexed:!1}],anonymous:!1,type:"event"},{name:"ApplyOwnership",inputs:[{name:"admin",type:"address",indexed:!1}],anonymous:!1,type:"event"},{name:"Transfer",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_spender",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RewardDataUpdate",inputs:[{name:"_token",type:"address",indexed:!0},{name:"_amount",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"initialize",inputs:[{name:"_staking_token",type:"address"},{name:"_admin",type:"address"},{name:"_SDT",type:"address"},{name:"_voting_escrow",type:"address"},{name:"_veBoost_proxy",type:"address"},{name:"_distributor",type:"address"}],outputs:[]},{stateMutability:"view",type:"function",name:"decimals",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"user_checkpoint",inputs:[{name:"addr",type:"address"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"claimed_reward",inputs:[{name:"_addr",type:"address"},{name:"_token",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"claimable_reward",inputs:[{name:"_user",type:"address"},{name:"_reward_token",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"set_rewards_receiver",inputs:[{name:"_receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[{name:"_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards",inputs:[{name:"_addr",type:"address"},{name:"_receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"claim_rewards_for",inputs:[{name:"_addr",type:"address"},{name:"_receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"kick",inputs:[{name:"addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"},{name:"_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit",inputs:[{name:"_value",type:"uint256"},{name:"_addr",type:"address"},{name:"_claim_rewards",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[{name:"_value",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[{name:"_value",type:"uint256"},{name:"_claim_rewards",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"transfer",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"transferFrom",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"approve",inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"increaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_added_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"decreaseAllowance",inputs:[{name:"_spender",type:"address"},{name:"_subtracted_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"add_reward",inputs:[{name:"_reward_token",type:"address"},{name:"_distributor",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_reward_distributor",inputs:[{name:"_reward_token",type:"address"},{name:"_distributor",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_claimer",inputs:[{name:"_claimer",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deposit_reward_token",inputs:[{name:"_reward_token",type:"address"},{name:"_amount",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_transfer_ownership",inputs:[{name:"addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"accept_transfer_ownership",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"SDT",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"voting_escrow",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"veBoost_proxy",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"staking_token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"decimal_staking_token",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"allowance",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"working_balances",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"working_supply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"integrate_checkpoint_of",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"reward_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"reward_tokens",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"reward_data",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"token",type:"address"},{name:"distributor",type:"address"},{name:"period_finish",type:"uint256"},{name:"rate",type:"uint256"},{name:"last_update",type:"uint256"},{name:"integral",type:"uint256"}]},{stateMutability:"view",type:"function",name:"rewards_receiver",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"reward_integral_for",inputs:[{name:"arg0",type:"address"},{name:"arg1",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"future_admin",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"claimer",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"initialized",inputs:[],outputs:[{name:"",type:"bool"}]}],Me={abi:Ae};class Ce{bcService=new $;getCvgSvgSdtRatio=async(t,e)=>{const n=await c.getStaticData(),a=new y(n?.stakedao.poolCvgSdt,N.abi,await this.bcService.getStaticProvider());if(t===0n)return 0;let s;return e?(s=await a.get_dy(1,0,t),l(t,18)/l(s,18)):(s=await a.get_dy(0,1,t),l(s,18)/l(t,18))};getDy=async(t,e)=>e===0n?0n:await new y(t,N.abi,await this.bcService.getStaticProvider()).get_dy(0,1,e);async getGlobalData(t){const e=await c.getStaticData();let n=await c.getStakings("stakedao");t&&(n=n.filter(u=>u.stakingName?.toLowerCase().includes(t)));const a=e.stakedao.sdtUtilities,{cvgSDT:s,sdAssets:i,lps:o}=await this.getStakingDetails(n);return{cvgSdt:{type:"cvgSdt",integration:"stakedao",mainAsset:{address:e.stakedao.sdt,tokenAddress:e.stakedao.sdt,token:"SDT",decimals:18},cvgAsset:{address:e.stakedao.cvgSDT,tokenAddress:e.stakedao.cvgSDT,token:"cvgSDT",decimals:18},nextTotal:s.nextTotal,poolCvgAsset:e.stakedao.poolCvgSdt,cvgAssetStaking:e.stakedao.cvgSdtStaking,stakingName:"cvgSdt",stakingRawName:"cvgSdt"},utilities:a,stakings:{sdAssets:i,lps:o}}}async getStakingType(t,e){const n=await c.getStaticData();return t===n.stakedao.cvgSdtStaking?"cvgSdt":O(e)?"sd":"lp"}async getStakingDetails(t){const e=[],n=[];t.forEach(p=>{O(p.stakingName)?e.push(p):n.push(p)});const a=await c.getStaticData(),s=new y(a.stakedao.sdtStakingViewer,I.abi,await this.bcService.getStaticProvider()),i=[];i.push(s.getGlobalViewCvgSdtStaking(a.stakedao.cvgSdtStaking)),e?.length?i.push(s.getGlobalViewSdAssetStaking(e.map(p=>p.stakingContract))):i.push(new Promise(p=>p(!0))),n?.length&&i.push(s.getGlobalViewLpAssetStaking(n.map(p=>p.stakingContract)));const o=await this._getStreamInfo(),[u,b,f]=await Promise.all(i),g=p=>o.find(r=>r.stakingContract===p)?.isSdtProcessed||!1,_=new Date().getTime(),v=p=>{const d=o.find(r=>r.stakingContract===p);return Number(d?.streamFinish||0)*1e3>_||!1},w=[];for(let p=0;p<e?.length;p++){const d=b[p].toObject(),r=C(e[p].stakingName),[m,A,k]=await Promise.all([T.getErc20INfo(d.asset),T.getErc20INfo(d.gaugeAsset),T.getErc20INfo(d.sdAsset)]);w[d.stakingAddress]={...d,isRewardProcessed:g(d.stakingAddress),type:"sd",isStream:v(d.stakingAddress),pool:r.pool,stakingName:r.name,stakingRawName:e[p].stakingName,asset:m,gaugeAsset:A,sdAsset:k,mainAsset:{...k,token:r.name,logo:r.logo,sub:r.sub}}}const P=[];for(let p=0;p<n?.length;p++){const d=f[p].toObject(),r=C(n[p].stakingName);if(r){const m={...d,type:"lp",stakingName:r.name,stakingRawName:n[p].stakingName,curveDepositUrl:r.curveDepositUrl},[A,k]=await Promise.all([T.getErc20INfo(d.lpAsset),T.getErc20INfo(d.gaugeAsset)]);m.lpAsset={decimals:A.decimals,token:r.name,sub:r.sub,tokenAddress:A.tokenAddress,logo:r.logo},m.gaugeAsset={decimals:k.decimals,token:r.name+"-gauge",tokenAddress:k.tokenAddress,logo:r.logo},m.isStream=v(d.stakingAddress),m.mainAsset=m.lpAsset,m.isRewardProcessed=g(d.stakingAddress),P[d.stakingAddress]=m}}return{sdAssets:w,lps:P,cvgSDT:u}}async getStakingPositions(t){const e=await this.getStakingPositionId(t);return await this._getTokenData(e)}async getStakingPositionId(t){if(!t)return[];const e=await c.getStaticData();return(await new y(e.stakedao.sdtStakingPositionManager,L.abi,await this.bcService.getStaticProvider()).getTokenIdsAndStakingContracts(t)).map(a=>a.toObject())}async doConvert(t,e,n){const a=await c.getStaticData();return await new y(a.stakedao.cvgSDT,V.abi,n).mint(t,e)}async doStakeGauge(t,e,n,a){return await new y(e,M.abi,a).deposit(t,n,G)}async doConvertAndStake(t,e,n){const a=await c.getStaticData();return await new y(a?.stakedao.sdtUtilities,E.abi,n).convertAndStakeCvgSdt(t,0,e,e)}async doStakeWithSdtUtilities(t,e,n,a,s,i,o){const u=0n,b=e==="gauge"?s:u;let f=e==="asset"?s:u;const g=await c.getStaticData(),_=new y(g?.stakedao.sdtUtilities,E.abi,o);if(t==="sd"){let v=e==="sd"?s:u;const w=!1;return await _.convertAndStakeSdAsset(n,a,b,i,v,f,w)}if(t==="lp"){let v=e==="lp"?s:u;const w=!0;return await _.convertAndStakeLpAsset(n,a,b,v,w)}}async doUnStake(t,e,n,a){return await new y(e,M.abi,a).withdraw(t,n)}async getSdGaugeAssetRewardInfo(t,e){return await new y(t,Me.abi,await this.bcService.getStaticProvider()).reward_data(e)}async getCycleInfo(t,e){return await new y(e,M.abi,await this.bcService.getStaticProvider()).cycleInfo(t)}processStakingTotals(t,e){const n={contracts:{},cvgSdt:{tvl:0},sd:{tvl:0},lp:{tvl:0},total:{tvl:0},isInit:!1};if(!t?.stakings||!e)return n;const a=e[t.cvgSdt.cvgAsset.tokenAddress];n.cvgSdt.tvl=a*l(t.cvgSdt.nextTotal,18),n.total.tvl=n.cvgSdt.tvl;const s=(i,o)=>{n.contracts[o.stakingAddress]===void 0&&(n.contracts[o.stakingAddress]={tvl:0});const u=n.contracts[o.stakingAddress],b=e[o.gaugeAsset.tokenAddress],f=l(o.nextTotal,o.gaugeAsset.decimals)*b;u.tvl=isNaN(f)?0:f,n[i].tvl+=u.tvl,n.contracts[o.stakingAddress]={tvl:u.tvl,token:o.gaugeAsset.name}};return Object.values(t?.stakings?.lps).forEach(i=>{s("lp",i)}),Object.values(t?.stakings?.sdAssets).forEach(i=>{s("sd",i)}),{...n,isInit:!0}}processUserTotals(t,e,n){const a={contracts:{},cvgSdt:{amount:0,count:0},sd:{amount:0,count:0},lp:{amount:0,count:0},total:{amount:0,count:0}};return!t?.stakings||!e||Object.entries(e).forEach(([s,i])=>{Object.values(i).forEach(o=>{const{asset:u,type:b}=this._getStakingAssetFormGlobalData(t,s);if(!u)return;const f=n&&n[u.tokenAddress]||0,g=l(o.nextToken,u.decimals)*f;a.contracts[s]===void 0&&(a.contracts[s]={amount:0,count:0}),a.contracts[s].amount+=g,a.contracts[s].count+=1,a[b].amount+=g,a[b].count+=1,a.total.amount+=g,a.total.count+=1})}),a}async getStakingPrices(t){if(!t||t.loading||t.error)return;const e=[t.cvgSdt.cvgAsset.tokenAddress];return Object.values(t.stakings.lps).forEach(n=>{e.push(n.gaugeAsset.tokenAddress)}),Object.values(t.stakings.sdAssets).forEach(n=>{e.push(n.gaugeAsset.tokenAddress)}),B.getPrices(e)}async getVeSdtInfo(){const t=await c.getStaticData(),e=new y(t?.stakedao.sdtVeBoost,pe.abi,await this.bcService.getStaticProvider()),n=[e.balanceOf(t.stakedao.veSdtMultisig),e.received_balance(t.stakedao.veSdtMultisig),e.totalSupply()],a=await Promise.all(n),[s,i,o]=a.map(u=>l(u,18));return{balance:s,delegatedBalance:i,totalSupply:o}}async _getTokenData(t){const e=await c.getStaticData();return(await new y(e?.stakedao?.sdtStakingViewer,I.abi,await this.bcService.getStaticProvider()).getTokenViewSdtStaking(t)).reduce((s,i)=>(s[i.stakingContract]=s[i.stakingContract]||{},s[i.stakingContract][Number(i.tokenId)]={actualToken:i.actualToken,previousToken:i.previousToken,nextToken:i.nextToken,isCvgSdt:i.stakingContract===e?.stakedao?.cvgSdtStaking},s),{})}_getStakingAssetFormGlobalData(t,e){if(!(t===void 0||t.loading))return t.cvgSdt.cvgAssetStaking===e?{asset:t.cvgSdt.cvgAsset,type:"cvgSdt"}:t.stakings.sdAssets[e]?{asset:t.stakings.sdAssets[e].gaugeAsset,type:"sd"}:t.stakings.lps[e]?{asset:t.stakings.lps[e].gaugeAsset,type:"lp"}:{asset:void 0,type:void 0}}async getCvgSdtTotalSupply(){const t=await c.getStaticData();return await new y(t.stakedao.cvgSDT,V.abi,await this.bcService.getStaticProvider()).totalSupply()}async getTotalTVL(){const t=await this.getGlobalData(),e=await this.getStakingPrices(t);if(!t?.stakings||!e)return 0;let n=0;const a=e[t.cvgSdt.cvgAsset.tokenAddress];return n+=a*l(t.cvgSdt.nextTotal,18),[...Object.values(t?.stakings?.lps),...Object.values(t?.stakings?.sdAssets)].forEach(s=>{const i=e[s.gaugeAsset.tokenAddress],o=l(s.nextTotal,s.gaugeAsset.decimals)*i;n+=isNaN(o)?0:o}),n}sortList(t,e){return(n,a)=>{switch(t){case"token":return(n?.stakingName?.toUpperCase()<a?.stakingName?.toUpperCase()?1:-1)*e;case"apr":return(n?.apr?.projectedApr?.totalApr-a?.apr?.projectedApr?.totalApr)*e;case"tvl":return(n?.tvl?.tvl-a?.tvl?.tvl)*e;case"userDeposit":return((n?.userDeposit?.amount?n.userDeposit.amount:0)-(a?.userDeposit?.amount?a.userDeposit.amount:0))*e;case"boost":{const s=n?.apr?.boost?Object.values(n?.apr?.boost).reduce((o,u)=>o+(typeof u=="string"?0:u),0):0,i=a?.apr?.boost?Object.values(a?.apr?.boost).reduce((o,u)=>o+(typeof u=="string"?0:u),0):0;return(s-i)*e}case"userClaimable":return(n.userClaimable-a.userClaimable)*e;default:return 0}}}filterListByAddress(t){return e=>[e.stakingAddress?.tokenAddress,e.gaugeAsset?.tokenAddress,e.lpAsset?.tokenAddress,e.sdAsset?.tokenAddress,e.asset?.tokenAddress].includes(t)}filterListByTokenName(t){return e=>[e.stakingName?.toLowerCase(),e.gaugeAsset?.token?.toLowerCase(),e.lpAsset?.token?.toLowerCase(),e.sdAsset?.token?.toLowerCase(),e.asset?.token?.toLowerCase()].some(n=>n?.includes(t?.toLowerCase()))}async getTvlForaContract(t,e){const n=await c.getStaticData(),a=new y(n.stakedao.sdtStakingViewer,I.abi,await this.bcService.getStaticProvider());if(t==="cvgSdt")return(await a.getGlobalViewCvgSdtStaking(n.stakedao.cvgSdtStaking))?.toObject()?.nextTotal;if(t==="sd")return(await a.getGlobalViewSdAssetStaking([e]))?.toArray()?.at(0)?.nextTotal;if(t==="lp")return(await a.getGlobalViewLpAssetStaking([e]))?.toArray()?.at(0)?.nextTotal}async getStakeDaoAprs(){return await U("convergence.stake-dao.aprs",9e5,"https://api.cvg.finance//stake-dao/aprs")}async _getRawHarvesterInfo(){const e=(await c.getStakings("stakedao")).map(o=>o.stakingContract),n=await this.bcService.getStaticProvider(),a=new R(h.abi),i=await new D(h.abi,h.bytecode).getDeployTransaction(e);return await this.bcService.excuteChainView(n,i,a)}async _getStreamInfo(){const e=(await c.getStakings("stakedao")).map(o=>o.stakingContract),n=await this.bcService.getStaticProvider(),a=new R(x.abi),i=await new D(x.abi,x.bytecode).getDeployTransaction(e);return await this.bcService.excuteChainView(n,i,a)}async doProcessReward(t,e){return await new y(t,M.abi,e).processSdtRewards()}async getHarvesterInfo(){let t=await this._getRawHarvesterInfo();return t=await this._hydrateHarvestRewardList(t),t?.map(n=>({...C(n.stakingName)||{},...n}))||[]}async _hydrateHarvestRewardList(t){let e=t.filter(n=>n.tokenAmounts.some(a=>a.amount>0n)&&!n.isSdtProcessed);return await Promise.all(e.map(this._hydrateHarvestRewardInfo))}async _hydrateHarvestRewardInfo(t){t.tokenAmounts=t.tokenAmounts?.length?t.tokenAmounts.filter(e=>e.amount>0n):[];for(let e=0;e<t.tokenAmounts.length;e++){const n=await T.getErc20INfo(t.tokenAmounts[e].token);t.tokenAmounts[e]={...n,amount:t.tokenAmounts[e].amount}}return t}}const Pe=new Ce;export{pe as S,M as a,E as b,V as c,I as d,Pe as s};
