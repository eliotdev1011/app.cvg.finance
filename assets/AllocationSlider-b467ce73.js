import{aC as W,aG as Ce,B as Ve,ar as Pe,as as je,aa as Le,b as Re,a4 as oe,r as l,e as Ge,G as He,$ as Be,aH as Fe,aI as Xe,k as Ue,n as We,p as xe,j as I,d as $e,al as Ke,w as re,O as Se,x as pe,l as Ae}from"./index-614b6d1c.js";import{l as x}from"./lock.service-f4c84d65.js";import{s as ze}from"./ysCvgClaim.service-bbde5ab6.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="17b0db13-2885-483c-a80e-d4cce033d145",e._sentryDebugIdIdentifier="sentry-dbid-17b0db13-2885-483c-a80e-d4cce033d145")}catch{}})();class ke{currentCycle;lastUpdatedTimestamp;duration;timeOption={code:"max"};end;amount=0;share=1;repartition=50;ysBalance;veBalance;mgBalance;tokenId=-1;existingPosition=null;MAX_CYCLE=96;MAX_CYCLE_VE=97;TDE_CYCLE_LENGTH=12;minCycle=0;constructor(n,a,s){this.lastUpdatedTimestamp=n,this.currentCycle=Number(a),this.tokenId=s}setExistingPosition(n){n&&(this.existingPosition=n,this.repartition=W(n.ysPercentage))}processTimeOptions=()=>{const n=[];let a=0,s=this.currentCycle%this.TDE_CYCLE_LENGTH;this.existingPosition&&(n.push({code:"0",name:"0"}),a=Number(this.existingPosition.endCycle)-this.currentCycle,s=0);const h=this.MAX_CYCLE-a;let u=1,c=0;for(;c<=h;)c=u*this.TDE_CYCLE_LENGTH-s,u++,c<=h&&c>=this.minCycle-a&&n.push({title:`+ ${c}w`,code:c.toString(),name:`+${c}w`});return this.timeOption=this.existingPosition?n[0]:n[n.length-1],n};process(){this.processEndDate(),this.processBalance()}processBalance(){this.amount=this.amount||0;let n=0,a=0,s=0;this.existingPosition&&(a=W(this.existingPosition.ysTotal,18),s=W(this.existingPosition.mgCvg,18),n=Number(this.existingPosition.endCycle)-this.currentCycle),this.share=(n+this.duration)/this.MAX_CYCLE,this.shareVe=(n+this.duration+1)/this.MAX_CYCLE_VE,this.veBalance=(this.recalculateStartVe()+this.amount)*((100-this.repartition)/100)*this.shareVe,this.mgBalance=s+this.amount*this.share*((100-this.repartition)/100),this.ysBalance=a+this.amount*this.share*(this.repartition/100)}recalculateStartVe(){return this.existingPosition?W(this.existingPosition.cvgLocked,18):0}processEndDate(){let n=0;this.existingPosition&&(n=Number(this.existingPosition.endCycle)),this.timeOption.code==="max"?this.duration=this.MAX_CYCLE-n:this.duration=parseInt(this.timeOption.code);const a=n?(n-this.currentCycle)*Ce:0,h=this.lastUpdatedTimestamp+a+(this.duration||0)*Ce;this.end=new Date(h).toLocaleDateString()}getDateForAxis(n){const a=n-this.currentCycle,s=new Date(this.lastUpdatedTimestamp+a*Ce);return`${s.getMonth()+1}`.padStart(2,"0")+"/"+`${s.getFullYear()}`.slice(2,4)}_getGraphDataForExistingLock(){const n=W(this.existingPosition.mgCvg,18),a=W(this.existingPosition.ysTotal,18),s=Number(this.existingPosition.endCycle),h=s-this.currentCycle,u=this.currentCycle,c=u%this.TDE_CYCLE_LENGTH===0,y=s+(this.duration||0),v=(1+Math.trunc(u/this.TDE_CYCLE_LENGTH))*this.TDE_CYCLE_LENGTH,D=(h+1)/this.MAX_CYCLE_VE,C=this.recalculateStartVe()*((100-this.repartition)/100)*D,b=(h+this.duration+1)/this.MAX_CYCLE_VE,V=(this.recalculateStartVe()+this.amount)*((100-this.repartition)/100)*b,k=[];for(let T=u;T<=y+2;T++){let p=0,O=0,F=0,R=0,P=0,w=0,H=1-Math.max(0,(T-u)/h),S=1-Math.max(0,(T-u)/(h+this.duration)),N=1;!c&&T<v+1&&(N=(v-u)/this.TDE_CYCLE_LENGTH),T<=s+this.duration&&(this.amount||this.duration)&&(p=n+this.amount*(100-this.repartition)/100*this.share,O=V*S,F=(a+this.amount*this.repartition/100*this.share)*N),T<s+1&&(R=n,P=C*H,w=a*N);const z={cycle:T,mg:Math.round(p*100)/100,ve:Math.round(O*100)/100,ys:Math.round(F*100)/100,oldVe:Math.round(P*100)/100,oldMg:Math.round(R*100)/100,oldYs:Math.round(w*100)/100};k.push(z)}return k}_getGraphForNewLock(){const n=[];if(!this.amount)return n;const a=this.currentCycle,s=a%this.TDE_CYCLE_LENGTH===0,h=this.duration+a,u=(1+Math.trunc(a/this.TDE_CYCLE_LENGTH))*this.TDE_CYCLE_LENGTH;for(let c=a;c<=h+2;c++){let y,v,D;if(c<=h){let _=1;!s&&c<u+1&&(_=(u-a)/this.TDE_CYCLE_LENGTH),y=this.amount*this.share,v=this.amount*(h-c)/this.duration*this.share,D=this.amount*this.share*_}else y=0,v=0,D=0;const C={cycle:c,ve:v*(100-this.repartition)/100,ys:D*this.repartition/100,mg:y*(100-this.repartition)/100};n.push(C)}return n}getGraphData(){return this.existingPosition?this._getGraphDataForExistingLock():this._getGraphForNewLock()}getTicks(){let n=0;this.existingPosition&&(n=W(this.existingPosition.endCycle)-this.currentCycle);const a=this.duration||parseInt(this.timeOption.code),s=this.currentCycle%this.TDE_CYCLE_LENGTH===0,h=(1+Math.trunc(this.currentCycle/this.TDE_CYCLE_LENGTH))*this.TDE_CYCLE_LENGTH;let u=Math.trunc((n+a)/this.TDE_CYCLE_LENGTH)+(s?0:1);u+=(this.MAX_CYCLE-a)/this.MAX_CYCLE;const c=[h];for(let y=1;y<=u;y++)c.push(h+y*this.TDE_CYCLE_LENGTH);return c}getDomain(){const n=this.getTicks();return[this.currentCycle,n[n.length-1]]}}const _e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"uint256",name:"totalYsCheckedIn",type:"uint256"},{components:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ICommonStruct.TokenAmount[]",name:"totalRewardForDuration",type:"tuple[]"}],internalType:"struct YsAprInfos",name:"infos",type:"tuple"}],name:"YsAprError",type:"error"}],qe="0x608060405234801561000f575f80fd5b5061001861001d565b6103fb565b604051636508b34360e11b81524260048201525f9073a044fd2e8254ec5de93b15b8b27d0058995791099063ca11668690602401602060405180830381865afa15801561006c573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061009091906101d4565b90505f600c6100a06001846101ff565b6100aa9190610218565b6100b5906001610237565b604080518082019182905263e64e7e3960e01b909152604481018290529091508073660a45986e9b8f60c41aadebd2941724200fbcf863e64e7e3960648301602060405180830381865afa15801561010f573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061013391906101d4565b81526040516334db56d360e21b81526004810184905260209091019073660a45986e9b8f60c41aadebd2941724200fbcf89063d36d5b4c906024015f60405180830381865afa158015610188573d5f803e3d5ffd5b505050506040513d5f823e601f3d908101601f191682016040526101af91908101906102b6565b905260405163fbea3f4360e01b81526101cb919060040161038f565b60405180910390fd5b5f602082840312156101e4575f80fd5b5051919050565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610212576102126101eb565b92915050565b5f8261023257634e487b7160e01b5f52601260045260245ffd5b500490565b80820180821115610212576102126101eb565b634e487b7160e01b5f52604160045260245ffd5b604080519081016001600160401b03811182821017156102805761028061024a565b60405290565b604051601f8201601f191681016001600160401b03811182821017156102ae576102ae61024a565b604052919050565b5f60208083850312156102c7575f80fd5b82516001600160401b03808211156102dd575f80fd5b818501915085601f8301126102f0575f80fd5b8151818111156103025761030261024a565b610310848260051b01610286565b818152848101925060069190911b83018401908782111561032f575f80fd5b928401925b81841015610384576040848903121561034b575f80fd5b61035361025e565b84516001600160a01b0381168114610369575f80fd5b81528486015186820152835260409093019291840191610334565b979650505050505050565b60208082528251828201528281015160408084018190528151606085018190525f9392830191849160808701905b808410156103ef57845180516001600160a01b03168352860151868301529385019360019390930192908201906103bd565b50979650505050505050565b603e806104075f395ff3fe60806040525f80fdfea26469706673582212207442bb75c66b8ffdac77691b894084661f1c714ef1f1dbb520fc1e559b8ac14c64736f6c63430008180033";class Je{bcService=new Ve;walletTokenInfos={};signer=void 0;async getYsApr(n){const a=[],s=new Pe(_e),u=await new je(_e,qe).getDeployTransaction(...a),c=await this.bcService.excuteChainView(await this.bcService.getStaticProvider(),u,s),y=Number(Le(c.totalYsCheckedIn))*n,v=c.totalRewardForDuration;if(!v.length)return null;const D=v?.map(T=>T.token),C=await Re.getPrices(D),_=await oe.getErc20INfoMultiple(D);let b={},V=0;v.forEach((T,p)=>{const O=T.token,R=Number(Le(T.amount))*14.25*C[O];b[O]={..._[p],apr:R*100/y},V+=R});const k=V*100/y;return{aprDetailed:b,totalApr:k}}}const Qe=new Je,Ze=l.createContext(null),et=e=>(a,s)=>{switch(s.type){case"update":if(s.data===void 0)return;const h=new ke(e?.lastUpdatedTimestamp,e?.currentCycle,-1);return Object.assign(h,s.data);default:throw new Error}},ht=({children:e,minCycle:n=0})=>{const a=[1,2,3,4,5,6,7,"max"].map(t=>({name:t.toString(),code:t.toString()})),{currentBlock:s,ecosystemInfo:h,actualCycle:u,cvgPrice:c,reloadNotifications:y}=l.useContext(Ge),[v,D]=l.useState(void 0),[C,_]=l.useState(a),[b,V]=l.useState(void 0),[k,T]=l.useState(void 0),[p,O]=l.useReducer(et(b),void 0),[F,R]=l.useState(p?.getGraphData()),{handleTransaction:P,notifyError:w}=l.useContext(He),{isWellConnected:H,address:S,getSigner:N}=Be(),[z,q]=l.useState(!1),[ue,J]=l.useState(!1),[Q,X]=l.useReducer(Fe,void 0),[B,$]=l.useReducer(Xe,void 0),[de,fe]=l.useState(!1),[K,he]=l.useState(void 0);l.useEffect(()=>{b===void 0&&u&&!u?.loading&&f(),b&&!b?.loading&&!b?.walletData&&H&&V(void 0),b&&!b?.loading&&b?.walletData&&!H&&V(void 0)},[b,u,S,H]),l.useEffect(()=>{if(S&&v===void 0&&h){D({loading:!0});const t={token:"cvg",contract:h.lockingPositionManager},i=o=>{D(o)};oe.refreshTokenInfos(S,t).then(i)}},[v,S]),l.useEffect(()=>{k===void 0&&c&&d()},[H,b,c,k]),l.useEffect(()=>{if(K===void 0&&u&&!u?.loading&&s?.timestamp){const t=i=>{he(i)};x.getHeaderData(u).then(t)}},[K,h,s,b]);const Z=()=>{ie(),f(),D(void 0)},ee=l.useMemo(()=>{if(!k||k?.loading)return;const t=[];Object.values(k.aprDetailed).forEach(o=>{const m={...o,token:o.token,percentageApr:o.apr,logo:o.logo||Ue};t.push(m)}),t.sort((o,m)=>m.percentageApr-o.percentageApr);const i=t[0].percentageApr;return t.forEach(o=>{o.share=o.percentageApr/i,o.percentageApr=We(o.percentageApr,!0,0)}),t},[k,c,K]);async function te(t){const i=await N();try{await x.burnPosition(t,i).then(o=>{P(o,()=>{f()})})}catch(o){w(o)}}async function U(){const t=await N();try{await oe.doRevoke(b?.cvgToken,b?.lockingPositionManager,t).then(i=>{P(i,()=>{f()})})}catch(i){w(i)}}async function ge(){const t=await N();try{await oe.doApprove(b?.cvgToken,b?.lockingPositionService,t).then(i=>{P(i,()=>{f()})})}catch(i){w(i)}}async function me(t){try{const i=await ze.doCheckIn(t,await N());P(i,y)}catch(i){w(i)}}function ne(t){if(t===!1){q(!1);return}const i=r(t);O({data:i,type:"update"}),R(i.getGraphData()),q(!0)}const ae=()=>{if(p?.amount&&S&&v?.[S]?.cvg?.balanceOf){const t=p?.amount/$e(v?.[S]?.cvg?.balanceOf,18);if(t>.99&&t<1.01)return v?.[S]?.cvg?.balanceOf}return xe(p?.amount?.toString()||"0")},ve=l.useMemo(()=>{const t=[];return p?.amount||t.push("No amount."),ae()>v?.[S]?.cvg?.balanceOf&&t.push("Not enough balance."),{active:t.length===0,errors:t}},[p?.amount,v]),be=l.useMemo(()=>{const t=[];return!p?.amount&&!p?.duration&&t.push("No amount and no duration."),xe(p?.amount.toString()||"0")>v?.[S]?.cvg?.balanceOf&&t.push("Not enough balance."),{active:t.length===0,errors:t}},[p?.amount,p?.duration,v]),E=async t=>{const i=r(t,null);O({data:i,type:"update"})},r=(t,i)=>{if(t===void 0)return;const o=b||i,m=t===-1||t===0,L=m?null:o?.positions?.find(ye=>Number(ye.tokenId)===Number(t)),g=new ke(o?.lastUpdatedTimestamp,o?.currentCycle,t);g.minCycle=n,L&&g.setExistingPosition(L);const Y=g.processTimeOptions();return _(Y),g.timeOption=m?Y[Y.length-1]:Y[0],g.process(),g},f=async()=>{V({loading:!0}),x.getStaticData(S,u).then(t=>{V(t);const i=r(-1,t);O({data:i,type:"update"})}).catch(t=>{w(t),V({error:!0})})},d=async()=>{T({loading:!0}),Qe.getYsApr(c).then(t=>{T(t)})},A=async t=>{if(!t)return;const i=await N(),o=ae();if(t.tokenId===-1)return x.doCreateLock(o,t.repartition,t.duration,i);if(t.amount>0&&t.duration>0)return x.increaseTimeAmount(t.tokenId,o,t.duration,i);if(t.amount>0)return x.increaseAmount(t.tokenId,o,i);if(t.duration>0)return x.increaseTime(t.tokenId,t.duration,i)},M=async()=>await A(p),G=(t,i)=>{p&&(p[t]=i,p.process(),O({data:p,type:"update"}),R(p.getGraphData()))},j=async t=>{X({data:{loading:!0},type:"update"});try{let i=await x.getDelegations(t);i.mgCvg=i.mgCvg.map(m=>m.toObject());const o=b.positions.find(m=>m.tokenId.toString()===t.toString());o.delegatedInfo=i,X({data:i,type:"update"})}catch(i){X({data:{error:!0},type:"update"}),w(i)}},Ie=async(t,i,o,m=0)=>{if(!Ke(o)){w("Invalid address");return}try{const L=await N();let g;if(t==="mgCvg"){if(!Number.isInteger(m)||m<0||m>100){w("Invalid percentage");return}g=x.doDelegateMg(i,o,m,L)}t==="ysCvg"?g=x.doDelegateYs(i,o,L):t==="veCVG"&&(g=x.doDelegateVe(i,o,L)),g&&g.then(Y=>{P(Y,()=>{j(i)})}).catch(Y=>{w(Y)})}catch(L){w(L)}},Me=async(t,i,o)=>{try{const m=await N();let L;t==="mgCvg"?L=x.doRevokeMg(i,o,m):t==="ysCvg"?L=x.doRevokeYs(i,o,m):t==="veCVG"&&(L=x.doRevokeVe(i,m)),await L.then(g=>{P(g,()=>{j(i)})})}catch(m){w(m)}};function Ye(t){if(t===!1){J(!1),X({data:null,type:"update"});return}const i=r(t);O({data:i,type:"update"});const o=b.positions.find(m=>m.tokenId.toString()===t.toString());o&&o?.delegatedInfo?X({data:o?.delegatedInfo,type:"update"}):j(t),J(!0)}const ie=async()=>{$({data:{loading:!0},type:"update"});try{const t=await x.getDelegatess(S);$({data:t,type:"update"})}catch(t){$({data:{error:!0},type:"update"}),w(t)}},De=(t,i)=>{let o;return i==="owned"?o=B?.getTokenOwnedAndDelegated.owneds:i==="veCvg"?o=B?.getTokenOwnedAndDelegated.veDelegateds:i==="mgCvg"&&(o=B?.getTokenOwnedAndDelegated.mgDelegateds),!!o?.find(m=>m.toString()===t.toString())},Oe={lockInfo:b,lockParams:p,doLock:M,updateLockParams:G,timeOptions:C,doApprove:ge,editVisible:z,editLock:ne,graphData:F,doRevoke:U,doBurnPosition:te,delegationVisible:ue,editDelegation:Ye,delegationInfo:Q,doAddDelegation:Ie,doRemoveDelegation:Me,delegateesInfo:B,acceptDelegation:async t=>{if(t.length===0)return;const i=(g,Y)=>{const ye=t.find(Te=>Number(g)===Number(Te.tokenId)&&(Te.type===Y||Y==="owned")),we=De(g,Y);return ye?!we:we},o=b?.positions?.filter(g=>i(g.tokenId,"owned")).map(g=>g.tokenId),m=B?.veCvgPosition?.filter(g=>i(g.tokenId,"veCvg")).map(g=>g.tokenId),L=B?.mgCvgPosition?.filter(g=>i(g.tokenId,"mgCvg")).map(g=>g.tokenId);try{const g=await N();await x.validatePower(o,m,L,g).then(Y=>{P(Y,()=>{ie()})})}catch(g){w(g)}},getDelegateeIsAccepted:De,doRemoveDelegatee:async(t,i)=>{try{const o=await N(),m=i==="veCvg",L=!m;await x.revokeDelegatee(t,m,L,o),await ie()}catch(o){w(o)}},loadLockParamsForTokenId:E,ysApr:k,ysAprDialogVisible:de,setYsAprDialogVisible:fe,aprDialogData:ee,headerData:K,isLockActive:ve,isIncreaseLockActive:be,resetAfterLock:Z,loadDelegatees:ie,doCheckIn:me};return I.jsx(Ze.Provider,{value:Oe,children:e})};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ce.apply(this,arguments)}function Ee(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,s=new Array(n);a<n;a++)s[a]=e[a];return s}function tt(e){if(Array.isArray(e))return Ee(e)}function nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ne(e,n){if(e){if(typeof e=="string")return Ee(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ee(e,n)}}function at(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e){return tt(e)||nt(e)||Ne(e)||at()}function rt(e){if(Array.isArray(e))return e}function st(e,n){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s,h,u,c,y=[],v=!0,D=!1;try{if(u=(a=a.call(e)).next,n===0){if(Object(a)!==a)return;v=!1}else for(;!(v=(s=u.call(a)).done)&&(y.push(s.value),y.length!==n);v=!0);}catch(C){D=!0,h=C}finally{try{if(!v&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(D)throw h}}return y}}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(e,n){return rt(e)||st(e,n)||Ne(e,n)||ot()}var le=l.memo(l.forwardRef(function(e,n){var a=l.useRef(null),s=l.useRef(0),h=l.useRef(!1),u=l.useRef(!1),c=l.useRef(0),y=l.useRef(0),v=l.useRef(0),D=l.useRef(0),C=e.range?e.value||[e.min,e.max]:e.value||0,_=e.orientation==="horizontal",b=e.orientation==="vertical",V=re({type:"mousemove",listener:function(r){return B(r)}}),k=se(V,2),T=k[0],p=k[1],O=re({type:"mouseup",listener:function(r){return $(r)}}),F=se(O,2),R=F[0],P=F[1],w=re({type:"touchmove",listener:function(r){return B(r)}}),H=se(w,2),S=H[0],N=H[1],z=re({type:"touchend",listener:function(r){return $(r)}}),q=se(z,2),ue=q[0],J=q[1],Q=function(r,f){var d=e.range?C[s.current]:C,A=(e.step||1)*f;te(r,d+A),r.preventDefault()},X=function(r,f){e.disabled||(u.current=!0,Z(),h.current=!0,s.current=f)},B=function(r){u.current&&(ee(r),r.preventDefault())},$=function(r){u.current&&(u.current=!1,e.onSlideEnd&&e.onSlideEnd({originalEvent:r,value:e.value}),p(),P(),N(),J())},de=function(r,f){T(),R(),X(r,f)},fe=function(r,f){S(),ue(),X(r,f)},K=function(r,f){if(!e.disabled){s.current=f;var d=r.key;d==="ArrowRight"||d==="ArrowUp"?Q(r,1):(d==="ArrowLeft"||d==="ArrowDown")&&Q(r,-1)}},he=function(r){if(!e.disabled){if(!h.current){Z();var f=ee(r);e.onSlideEnd&&e.onSlideEnd({originalEvent:r,value:f})}h.current=!1}},Z=function(){var r=a.current.getBoundingClientRect();c.current=r.left+pe.getWindowScrollLeft(),y.current=r.top+pe.getWindowScrollTop(),v.current=a.current.offsetWidth,D.current=a.current.offsetHeight},ee=function(r){var f,d=r.touches?r.touches[0].pageX:r.pageX,A=r.touches?r.touches[0].pageY:r.pageY;_?f=(d-c.current)*100/v.current:f=(y.current+D.current-A)*100/D.current;var M=(e.max-e.min)*(f/100)+e.min;if(e.step){var G=e.range?C[s.current]:C,j=M-G;j<0?M=G+Math.ceil(M/e.step-G/e.step)*e.step:j>0&&(M=G+Math.floor(M/e.step-G/e.step)*e.step)}else M=Math.floor(M);return te(r,M)},te=function(r,f){var d=parseFloat(f.toFixed(10)),A=d;return e.range?(s.current===0?d<e.min?d=e.min:d>C[1]&&(d=C[1]):d>e.max?d=e.max:d<C[0]&&(d=C[0]),A=it(C),A[s.current]=d,e.onChange&&e.onChange({originalEvent:r,value:A})):(d<e.min?d=e.min:d>e.max&&(d=e.max),A=d,e.onChange&&e.onChange({originalEvent:r,value:A})),A},U=function(r,f,d){var A={transition:u.current?"none":null,left:r!==null&&r+"%",bottom:f&&f+"%"},M=Ae("p-slider-handle",{"p-slider-handle-start":d===0,"p-slider-handle-end":d===1,"p-slider-handle-active":s.current===d});return l.createElement("span",ce({className:M,style:A,tabIndex:e.tabIndex,role:"slider",onMouseDown:function(j){return de(j,d)},onTouchStart:function(j){return fe(j,d)},onKeyDown:function(j){return K(j,d)},"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":r||f,"aria-orientation":e.orientation},ae))},ge=function(){var r=(C[0]<e.min?e.min:C[0]-e.min)*100/(e.max-e.min),f=(C[1]>e.max?e.max:C[1]-e.min)*100/(e.max-e.min),d=_?U(r,null,0):U(null,r,0),A=_?U(f,null,1):U(null,f,1),M=_?{left:r+"%",width:f-r+"%"}:{bottom:r+"%",height:f-r+"%"};return l.createElement(l.Fragment,null,l.createElement("span",{className:"p-slider-range",style:M}),d,A)},me=function(){var r;C<e.min?r=e.min:C>e.max?r=e.max:r=(C-e.min)*100/(e.max-e.min);var f=_?{width:r+"%"}:{height:r+"%"},d=_?U(r,null,null):U(null,r,null);return l.createElement(l.Fragment,null,l.createElement("span",{className:"p-slider-range",style:f}),d)};l.useImperativeHandle(n,function(){return{props:e,getElement:function(){return a.current}}});var ne=Se.findDiffKeys(e,le.defaultProps),ae=Se.reduceKeys(ne,pe.ARIA_PROPS),ve=Ae("p-slider p-component",e.className,{"p-disabled":e.disabled,"p-slider-horizontal":_,"p-slider-vertical":b}),be=e.range?ge():me();return l.createElement("div",ce({ref:a,id:e.id,style:e.style,className:ve},ne,{onClick:he}),be)}));le.displayName="Slider";le.defaultProps={__TYPE:"Slider",id:null,value:null,min:0,max:100,orientation:"horizontal",step:null,range:!1,style:null,className:null,disabled:!1,tabIndex:0,onChange:null,onSlideEnd:null};function gt({className:e,value:n,boundaries:a,step:s,onChange:h}){const u=[];for(let c=a[0];c<=a[1];c+=s)u.push(c);return I.jsxs(I.Fragment,{children:[I.jsxs("span",{className:"block mb-4",children:["Choose ",I.jsx("span",{className:"color-ysCvg",children:"ysCVG "})," / ",I.jsx("span",{className:"color-veCvg ",children:"veCVG "}),"repartition:"]}),I.jsxs("div",{className:e||"",children:[I.jsx("div",{className:"flex justify-content-between h-1rem pb-1 max-w-30rem",children:u.map((c,y)=>I.jsx("div",{className:"AllocationSlider-tick-reverse relative",children:I.jsxs("span",{className:"AllocationSlider-ticklabel",children:[100-c,"%"]})},y))}),I.jsx("div",{className:"AllocationSlider  bg-veCvg max-w-30rem",children:I.jsx(le,{value:n,min:a[0],max:a[1],step:s,onChange:c=>h(c.value)})}),I.jsx("div",{className:"flex justify-content-between max-w-30rem",children:u.map((c,y)=>I.jsx("div",{className:"AllocationSlider-tick relative",children:I.jsxs("span",{className:"AllocationSlider-ticklabel",children:[c,"%"]})},y))})]})]})}export{gt as A,Ze as C,ht as a};
